extend ../layouts/common

block content
  h1   
    span.mr-3 Products
    a.btn.btn-primary(href="/products/create") New

  .d-flex.aligh-items-center
    form.ml-auto(action="/products/search", method="GET", class="d-flex")
      input(type="text", name="q", class="form-control")
      button(class="btn btn-primary ml-2") Search

  .row
    each product in products
      .col-sm-6.col-md-4.col-lg-3
        .card.mb-3
          img.card-img-top(src=product.image)
          .card-body
            h5.card-title= product.name
            p.card-text= product.description
            a.btn.btn-primary(href='/cart/add') Add to cart

  nav(aria-label='...')
  ul.pagination
    li.page-item.disabled
      span.page-link Previous
    li.page-item
      a.page-link(href='/product?page=parseInt(req.query.page)-1') 1
    li.page-item.active(aria-current='page')
      span.page-link
        | parseInt(req.query.page)
        span.sr-only (current)
    li.page-item
      a.page-link(href='#') 3
    li.page-item
      a.page-link(href='#') Next